<main *ngIf="book$ | async as book">
    <div class="post-container">
        <div class="d-flex flex-row justify-content-between align-items-stretch">
            <div class="p-2">
                <h2>{{ book.items[0].volumeInfo.title }}</h2>
                <h3>{{ book.items[0].volumeInfo.subtitle  }}</h3>
                <hr/>
                <ul>
                    <li>
                        <p><strong>Authored By: </strong>{{ book.items[0].volumeInfo.authors }}</p>
                    </li>
                    <li>
                        <p><strong>Published On: </strong>{{ book.items[0].volumeInfo.publishedDate }}</p>
                    </li>
                    <li>
                        <p><strong>Pages: </strong>{{book.items[0].volumeInfo.pageCount }}</p>
                    </li>
                    <li>
                        <p><strong>Categories: </strong>{{ book.items[0].volumeInfo.categories }}</p>
                    </li>
                </ul>
            </div>
            <div class="p-2">
                <img [src]="book.items[0].volumeInfo.imageLinks.thumbnail" class="" alt="Cover Image" loading="lazy">
            </div>
        </div>
        <div class="d-flex flex-column summary">
            <div ngbAccordion>
                <div ngbAccordionItem>
                  <h3 ngbAccordionHeader>
                    <button ngbAccordionButton>Google Books Summary</button>
                  </h3>
                  <div ngbAccordionCollapse>
                    <div ngbAccordionBody>
                      <ng-template>
                        <p>{{ book.items[0].volumeInfo.description }}</p>
                      </ng-template>
                    </div>
                  </div>
                </div>
            </div>
        </div>
        <div class="d-flex flex-row-reverse content">
            <a [href]="[book.items[0].volumeInfo.previewLink]" class="btn btn-secondary" target="_blank">Preview Book</a>
        </div>
    </div>
    <div class="post-container" *ngIf="text$ | async as text">
        <div class="d-flex flex-row justify-content-between align-items-stretch">
            <div class="p-2">
                <h2>Notes & Takeaways</h2>
            </div>
        </div>
        <hr />
        <div class="d-flex flex-row justify-content-between align-items-stretch">
            <div class="p-2">
                <ul>
                    <li>
                        <p><strong>Read: </strong>{{ text.fields.read }}</p>
                    </li>
                    <li>
                        <p><strong>Reading: </strong>{{ text.fields.reading }}</p>
                    </li>
                    <li>
                        <p><strong>Noted: </strong>{{ text.fields.noted }}</p>
                    </li>
                    <li>
                        <p><strong>Rating: </strong>{{ text.fields.rating }} out of 5</p>
                    </li>
                </ul>
            </div>
        </div>
        <div class="content">
            <div class="p-2">
                <h4>Summary</h4>
                <hr/>
            </div>
            <div class="p-2">
                <p>{{ text.fields.summary }}</p>
            </div>
        </div>
        <div class="content">
            <div class="p-2">
                <h4>Notes</h4>
                <hr/>
            </div>
            <div class="p-2">
                <div [innerHtml]="text.fields.notes | toHtml">
                </div>
            </div>
        </div>
    </div>
</main>